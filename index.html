<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>news</title>
  <style>
    :root{
      --bg:#f6f7f8;
      --paper:#fff;
      --text:#111;
      --muted:#666;
      --line:#e6e6e6;
      --chip:#f1f2f3;
      --accent:#111;
      --blue:#1a73e8;
      --radius:14px;
      --shadow:0 10px 26px rgba(0,0,0,.06);
      --max:980px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.7;
    }

    header{
      background:var(--paper);
      border-bottom:1px solid var(--line);
      position:sticky;
      top:0;
      z-index:10;
    }

    .topbar{
      max-width:var(--max);
      margin:0 auto;
      padding:16px 18px 10px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
    }

    header h1{
      margin:0;
      font-size:24px;
      cursor:pointer;
      letter-spacing:-0.3px;
    }

    .brand{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .logo{
      width:10px;
      height:10px;
      border-radius:2px;
      background:#111;
      display:inline-block;
      margin-right:6px;
    }

    .subtitle{
      font-size:12px;
      color:#777;
      margin-top:2px;
    }

    nav{
      max-width:var(--max);
      margin:0 auto;
      padding:0 18px 10px;
      display:flex;
      gap:14px;
      align-items:center;
    }

    nav span{
      font-size:15px;
      color:#777;
      padding:8px 2px;
      cursor:default;
      border-bottom:2px solid transparent;
    }
    nav span.active{
      color:#000;
      font-weight:700;
      cursor:pointer;
      border-bottom-color:#000;
    }

    main{
      max-width:var(--max);
      margin:0 auto;
      padding:16px 18px 28px;
    }

    /* ====== LIST LAYOUT ====== */
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:14px;
    }

    .panel{
      background:var(--paper);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .panel-head{
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .panel-head .label{
      font-weight:800;
      font-size:14px;
      letter-spacing:-0.2px;
    }
    .panel-head .more{
      font-size:12px;
      color:#777;
    }

    /* Headline */
    .headline{
      cursor:pointer;
    }
    .headline .hero{
      width:100%;
      height:260px;
      background:#e9eaec;
      border-bottom:1px solid var(--line);
    }
    .headline .hero img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .headline .body{
      padding:14px 16px 16px;
    }
    .headline .title{
      font-size:22px;
      line-height:1.35;
      letter-spacing:-0.3px;
      margin:0 0 10px;
      font-weight:900;
      word-break:keep-all;
    }
    .meta{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      font-size:12px;
      color:#666;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 10px;
      border-radius:999px;
      background:var(--chip);
      border:1px solid #eee;
      color:#444;
      font-size:12px;
    }

    /* List items */
    .list .row{
      display:grid;
      grid-template-columns: 132px 1fr;
      gap:12px;
      padding:12px 14px;
      border-bottom:1px solid #f0f0f0;
      cursor:pointer;
      align-items:center;
    }
    .list .row:last-child{ border-bottom:none; }

    .thumb{
      width:132px;
      height:84px;
      background:#e9eaec;
      border-radius:12px;
      overflow:hidden;
      border:1px solid #eee;
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .row-title{
      font-size:16px;
      font-weight:800;
      line-height:1.35;
      margin:0 0 8px;
      word-break:keep-all;
    }
    .row-meta{ font-size:12px; color:#666; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }

    /* Sidebar ranking */
    .rank .item{
      padding:12px 14px;
      border-bottom:1px solid #f0f0f0;
      cursor:pointer;
    }
    .rank .item:last-child{ border-bottom:none; }
    .rank .no{
      display:inline-flex;
      width:22px;
      height:22px;
      border-radius:6px;
      background:#111;
      color:#fff;
      align-items:center;
      justify-content:center;
      font-size:12px;
      font-weight:800;
      margin-right:10px;
      flex-shrink:0;
    }
    .rank .t{
      font-size:14px;
      font-weight:800;
      line-height:1.35;
      word-break:keep-all;
    }

    /* ====== ARTICLE ====== */
    .back{
      display:inline-block;
      margin:6px 0 14px;
      font-size:14px;
      color:#777;
      cursor:pointer;
    }
    .back:hover{ color:#000; text-decoration:underline; }

    .article-wrap{
      background:var(--paper);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .article-hero{
      height:320px;
      background:#e9eaec;
      border-bottom:1px solid var(--line);
    }
    .article-hero img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .article{
      padding:18px 18px 20px;
    }

    .article h2{
      margin:0 0 10px;
      font-size:26px;
      line-height:1.35;
      letter-spacing:-0.3px;
      word-break:keep-all;
      font-weight:900;
    }

    .byline{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      font-size:13px;
      color:#666;
      padding-bottom:12px;
      margin-bottom:14px;
      border-bottom:1px solid #eee;
    }

    .article p{
      font-size:16px;
      line-height:1.9;
      margin:18px 0;
      color:#333;
      text-align:justify;
      word-break:keep-all;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin:14px 0 8px;
    }
    .btn{
      border:1px solid #ddd;
      background:#fff;
      color:#111;
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:14px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn:hover{ border-color:#bbb; }
    .btn.primary{
      background:#111;
      border-color:#111;
      color:#fff;
    }

    .section{
      margin-top:18px;
      padding-top:18px;
      border-top:1px solid #eee;
    }
    .section h3{
      margin:0 0 12px;
      font-size:15px;
      font-weight:900;
      letter-spacing:-0.2px;
    }

    /* Related */
    .related .item{
      border:1px solid #eee;
      border-radius:12px;
      padding:12px;
      cursor:pointer;
      background:#fff;
    }
    .related .item:hover{ border-color:#ccc; }
    .related .t{ font-size:15px; font-weight:800; margin-bottom:4px; word-break:keep-all; }
    .related .m{ font-size:12px; color:#666; display:flex; gap:8px; flex-wrap:wrap; }

    /* Comments */
    .comment-box{
      border:1px solid #eee;
      border-radius:12px;
      padding:12px;
      background:#fff;
    }
    .comment-form{
      display:grid;
      grid-template-columns: 160px 1fr;
      gap:10px;
      margin-bottom:12px;
    }
    .comment-form input,
    .comment-form textarea{
      border:1px solid #ddd;
      border-radius:10px;
      padding:10px;
      font-size:14px;
      font-family:inherit;
      outline:none;
      background:#fff;
    }
    .comment-form textarea{ min-height:90px; resize:vertical; }
    .comment-actions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      grid-column: 1 / -1;
    }
    .comment-item{
      border-top:1px solid #f1f1f1;
      padding-top:12px;
      margin-top:12px;
    }
    .comment-item:first-child{
      border-top:none;
      padding-top:0;
      margin-top:0;
    }
    .comment-head{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
    }
    .comment-name{ font-weight:900; font-size:13px; }
    .comment-time{ font-size:12px; color:#888; margin-left:8px; font-weight:400; }
    .comment-text{
      margin-top:6px;
      font-size:14px;
      color:#333;
      white-space:pre-wrap;
      word-break:break-word;
    }
    .comment-del{
      font-size:12px;
      color:#999;
      cursor:pointer;
    }
    .comment-del:hover{ color:#111; text-decoration:underline; }

    /* Footer small */
    .footnote{
      font-size:12px;
      color:#777;
      margin-top:10px;
    }

    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
    @media (max-width: 520px){
      .list .row{ grid-template-columns: 110px 1fr; }
      .thumb{ width:110px; height:74px; }
      .headline .hero{ height:210px; }
      .article-hero{ height:220px; }
      .comment-form{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <div>
        <div class="brand">
          <span class="logo"></span>
          <h1 onclick="showList()">news</h1>
        </div>
        <div class="subtitle">ë‹´ë‰´ìŠ¤ Â· Entertainment</div>
      </div>
    </div>

    <nav>
      <span class="active" onclick="showList()">ì—°ì˜ˆ</span>
      <span>ìµœì‹ ë‰´ìŠ¤</span>
      <span>ì‚¬íšŒ</span>
      <span>ê±´ê°•</span>
    </nav>
  </header>

  <main id="app"></main>

  <script>
    // ===== ì´ë¯¸ì§€: ì™¸ë¶€ ë§í¬ ì—†ì´ë„ ë³´ì´ê²Œ "SVG ë°ì´í„° URL" ê¸°ë³¸ ìƒì„± =====
    function makeCoverDataUrl(seedText){
      const safe = String(seedText).replace(/</g, "&lt;").replace(/>/g, "&gt;").slice(0, 42);
      const svg =
`<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#111"/>
      <stop offset="1" stop-color="#3a3a3a"/>
    </linearGradient>
  </defs>
  <rect width="1200" height="700" fill="url(#g)"/>
  <rect x="60" y="500" width="1080" height="2" fill="rgba(255,255,255,.25)"/>
  <text x="60" y="560" font-family="Apple SD Gothic Neo, Noto Sans KR, sans-serif" font-size="44" fill="#fff" opacity="0.92">${safe}</text>
  <text x="60" y="625" font-family="Apple SD Gothic Neo, Noto Sans KR, sans-serif" font-size="24" fill="#fff" opacity="0.75">ë‹´ë‰´ìŠ¤ Â· ì—°ì˜ˆ</text>
</svg>`;
      return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
    }

    const REPORTERS = ["ë°•ë‹¤ëŒ","í•œì˜ˆìŠ¬","ê¹€ì„œì •","ì–‘ì¢…ì² ","ì´ì„œì§„","ì´ì¥í¬"];
    const PUBLISHER = "ë‹´ë‰´ìŠ¤";

    const articles = [
      {
        id: 1,
        title: "ì— ë„·Ã—EBS, ì²­ì†Œë…„Â·ì²­ë…„ ìŒì•… ì°½ì‘ì ìœ„í•œ ìƒˆë¡œìš´ ë„ì „â€¦ â€˜HIT THE DROPâ€™ ë¡ ì¹­",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ì— ë„·ê³¼ EBSê°€ ì†ì¡ê³  ì²­ì†Œë…„ ë° ì²­ë…„ ìŒì•… ì°½ì‘ìë¥¼ ìœ„í•œ í”„ë¡œë“€ì‹± í”„ë¡œì íŠ¸ HIT THE DROPì„ ì„ ë³´ì¸ë‹¤. â€˜ìŒì•…ì  ë™ë£Œë¥¼ ë§Œë‚˜ëŸ¬ ì˜¨ë‹¤â€™ë¥¼ ìŠ¬ë¡œê±´ìœ¼ë¡œ ë‚´ê±´ ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ì‘ê³¡ê°€ì™€ ìŒí–¥ ì—”ì§€ë‹ˆì–´ì˜ í˜‘ì—…ì„ ì¤‘ì‹¬ìœ¼ë¡œ, ìŒì•…ì´ ë§Œë“¤ì–´ì§€ëŠ” ì „ ê³¼ì •ì„ ì¡°ëª…í•˜ëŠ” ì§€ì›í˜• ì˜¤ë””ì…˜ í”„ë¡œê·¸ë¨ì´ë‹¤.",
          "HIT THE DROPì€ ê°€ì°½ ì¤‘ì‹¬ì˜ ê¸°ì¡´ ì˜¤ë””ì…˜ê³¼ ë‹¬ë¦¬, ë¬´ëŒ€ ë’¤ì—ì„œ ìŒì•…ì„ ì™„ì„±í•˜ëŠ” í”„ë¡œë“€ì„œì™€ ìŒí–¥ ì—”ì§€ë‹ˆì–´ë¥¼ ì£¼ì¸ê³µìœ¼ë¡œ ë‚´ì„¸ìš´ ê²ƒì´ ê°€ì¥ í° íŠ¹ì§•ì´ë‹¤. ì°¸ê°€ìëŠ” ë³¸ì¸ì´ ì£¼ë„ì ìœ¼ë¡œ ì œì‘í•œ ë¯¸ë°œë§¤ ê³¡ì„ ë°”íƒ•ìœ¼ë¡œ í‰ê°€ë¥¼ ë°›ìœ¼ë©°, ê²½ìŸë³´ë‹¤ëŠ” í˜‘ì—…ê³¼ ì„±ì¥ì— ì´ˆì ì„ ë§ì¶˜ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.",
          "íŠ¹íˆ ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ì •ë¶€ì˜ ì˜ˆìˆ ì¸ ì²­ì†Œë…„Â·ì²­ë…„ ì§€ì› í”„ë¡œê·¸ë¨ì˜ ì¼í™˜ìœ¼ë¡œ ê¸°íšë¼, EBSì™€ ì— ë„·ì—ì„œ ë™ì‹œ ì†¡ì¶œëœë‹¤. ì œì‘ì§„ì€ â€œë°©ì†¡ì„ ìœ„í•œ ê·¹ì ì¸ ì—°ì¶œë³´ë‹¤, ì‹¤ì œ ì°½ì‘ í™˜ê²½ê³¼ ê°€ê¹Œìš´ ê³¼ì •ì„ ë‹´ì•„ë‚´ëŠ” ë° ì§‘ì¤‘í•  ê³„íšâ€ì´ë¼ë©° â€œì°¸ê°€ìë“¤ì´ ì•ˆì „í•˜ê²Œ ë„ì „í•˜ê³  ì„±ì¥í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ë§ˆë ¨í–ˆë‹¤â€ê³  ë°í˜”ë‹¤.",
          "í”„ë¡œê·¸ë¨ì€ í”„ë¡œë“€ì„œì™€ ìŒí–¥ ì—”ì§€ë‹ˆì–´ê°€ ì„œë¡œë¥¼ ì„ íƒí•˜ë©° íŒ€ì„ êµ¬ì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ëœë‹¤. ì¥ë¥´ì™€ ìŠ¤íƒ€ì¼ì˜ ì œí•œ ì—†ì´ ë‹¤ì–‘í•œ ìŒì•…ì  ì‹œë„ë¥¼ ì¡´ì¤‘í•˜ë©°, í˜„ì—… ì‘ê³¡ê°€ì™€ ì—…ê³„ ì „ë¬¸ê°€ë“¤ì´ ì‹¬ì‚¬ ë° ë©˜í† ë§ì— ì°¸ì—¬í•´ ì‹¤ì§ˆì ì¸ í”¼ë“œë°±ì„ ì œê³µí•  ì˜ˆì •ì´ë‹¤.",
          "ì— ë„· ì¸¡ì€ â€œHIT THE DROPì€ ê²°ê³¼ë³´ë‹¤ ê³¼ì •ì„ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” í”„ë¡œì íŠ¸â€ë¼ë©° â€œì•„ì§ ì„¸ìƒì— ì•Œë ¤ì§€ì§€ ì•Šì€ ì²­ì†Œë…„Â·ì²­ë…„ ì°½ì‘ìë“¤ì´ ìŒì•…ì  ë™ë£Œë¥¼ ë§Œë‚˜, ê°ìì˜ ê°€ëŠ¥ì„±ì„ í™•ì¥í•˜ëŠ” ê³„ê¸°ê°€ ë˜ê¸¸ ë°”ë€ë‹¤â€ê³  ì „í–ˆë‹¤.",
          "í•œí¸ HIT THE DROPì€ 20XXë…„ í•˜ë°˜ê¸° ì²« ë°©ì†¡ì„ ëª©í‘œë¡œ ì œì‘ ì¤‘ì´ë©°, ì°¸ê°€ì ëª¨ì§‘ ë° ì„¸ë¶€ ì¼ì •ì€ ì— ë„· ê³µì‹ í™ˆí˜ì´ì§€ì™€ SNS ì±„ë„ì„ í†µí•´ ìˆœì°¨ì ìœ¼ë¡œ ê³µê°œë  ì˜ˆì •ì´ë‹¤."
        ]
      },
      {
        id: 2,
        title: "ì— ë„·, ì‹ ì¸ ì‘ê³¡ê°€ë¥¼ ìœ„í•œ í”„ë¡œë“€ì‹± í”„ë¡œì íŠ¸ì— ì°¸ê°€... EBSì™€ í•¨ê»˜ í”„ë¡œë“€ì‹± ì˜¤ë””ì…˜ ì œì‘",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ì— ë„·ì´ ì‹ ì¸ ì‘ê³¡ê°€ ë°œêµ´ ë° ìœ¡ì„±ì„ ìœ„í•´ HIT THE DROP ì˜¤ë””ì…˜ í”„ë¡œì íŠ¸ë¥¼ ì œì‘ ì¤‘ì´ë¼ê³  ë°í˜”ë‹¤.",
          "ì´ë²ˆ ì˜¤ë””ì…˜ì€ ì •ë¶€ì™€ í•¨ê»˜í•˜ì—¬ EBSì—ì„œ ë™ì‹œ ì†¡ì¶œì„ ì§„í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œìœ¼ë©°, ì²­ì†Œë…„ê³¼ ì²­ë…„ì¸µ ìŒì•… ì°½ì‘ìë¥¼ ì£¼ìš” ëŒ€ìƒìœ¼ë¡œ í•œë‹¤.",
          "í˜„ì¬ HIT THE DROP í”„ë¡œì íŠ¸ëŠ” Xì›” Xì¼(ì›”)ë¶€í„° XXì¼(ê¸ˆ)ê¹Œì§€ ì— ë„· ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ í†µí•´ ì°¸ê°€ ì ‘ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.",
          "ì§€ì›ìëŠ” ë³¸ì¸ì´ ì£¼ë„ì ìœ¼ë¡œ ì œì‘í•œ ë¯¸ë°œë§¤ ê³¡ 2ê³¡ì„ ì œì¶œí•´ì•¼ í•˜ë©°, í¼ë¸”ë¦¬ì‹± íšŒì‚¬ì™€ ê³„ì•½ë˜ì–´ ìˆëŠ” ê²½ìš°ì—ëŠ” ì§€ì›ì´ ì œí•œëœë‹¤.",
          "ìµœì¢… í•©ê²©ìëŠ” í˜„ì—… ì‘ê³¡ê°€ë¥¼ í¬í•¨í•œ ì—…ê³„ ì „ë¬¸ê°€ ì‹¬ì‚¬ë¥¼ ê±°ì³ Xì›” ì¤‘ ë°œí‘œë  ì˜ˆì •ì´ë‹¤.",
          "ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ì²­ì†Œë…„ ë° ì²­ë…„ì¸µ ìŒì•… ì°½ì‘ìì—ê²Œ ì‹¤ì§ˆì ì¸ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ì§€ì›í˜• ì˜¤ë””ì…˜ì´ë¼ëŠ” ì ì—ì„œ ì£¼ëª©ë°›ê³  ìˆë‹¤.",
          "ì°¸ê°€ìëŠ” ìŒì•… ì¥ë¥´ì— ì œí•œ ì—†ì´ ì§€ì›í•  ìˆ˜ ìˆìœ¼ë©°, ì‘ê³¡ ê²½í—˜ì´ ìˆë‹¤ë©´ ì „ê³µ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ëˆ„êµ¬ë‚˜ ë„ì „ ê°€ëŠ¥í•˜ë‹¤.",
          "í”„ë¡œê·¸ë¨ì„ í†µí•´ ì„ ë°œëœ ì°¸ê°€ìë“¤ì€ í˜„ì—… í”„ë¡œë“€ì„œì™€ì˜ ë©˜í† ë§ê³¼ ê³µë™ ì‘ì—… ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.",
          "ìµœì¢… ìš°ìŠ¹ìì—ê²ŒëŠ” í–¥í›„ í”„ë¡œë“€ì‹± í™œë™ì„ ìœ„í•œ ì§€ì›ì´ ì œê³µë  ì˜ˆì •ì´ë‹¤.",
          "ì— ë„· ì¸¡ì€ â€œì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ìŒì•…ì˜ ì‹œì‘ì ì— ìˆëŠ” ì°½ì‘ìë“¤ì—ê²Œ ìŠ¤í¬íŠ¸ë¼ì´íŠ¸ë¥¼ ë¹„ì¶”ëŠ” ê¸°íšŒê°€ ë  ê²ƒâ€ì´ë¼ê³  ì „í–ˆë‹¤.",
          "í•œí¸ HIT THE DROPì€ 20XXë…„ í•˜ë°˜ê¸° ì— ë„·ê³¼ EBSë¥¼ í†µí•´ ì²« ë°©ì†¡ë  ì˜ˆì •ì´ë‹¤."
        ]
      },
      {
        id: 3,
        title: "â€œì•…í¸ ì—†ëŠ” ì— ë„·?â€â€¦ â€˜HIT THE DROPâ€™, ì˜ˆìƒ ë°– í™”ì œì„±ìœ¼ë¡œ ì…ì†Œë¬¸",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ì— ë„·ê³¼ EBSê°€ ê³µë™ ì œì‘í•œ ì²­ì†Œë…„Â·ì²­ë…„ í”„ë¡œë“€ì‹± ì˜¤ë””ì…˜ â€˜HIT THE DROPâ€™ì´ ì²« ë°©ì†¡ ì´í›„ ì˜ˆìƒ ë°–ì˜ ë°˜ì‘ì„ ì–»ìœ¼ë©° í™”ì œë¥¼ ëª¨ìœ¼ê³  ìˆë‹¤.",
          "ê¸°ì¡´ ì— ë„· ì˜¤ë””ì…˜ í”„ë¡œê·¸ë¨ì˜ ê²½ìŸ ì¤‘ì‹¬ ì„œì‚¬ì™€ ë‹¬ë¦¬, ì´ë²ˆ í”„ë¡œê·¸ë¨ì€ ì§€ì›í˜• í”„ë¡œì íŠ¸ë¥¼ í‘œë°©í•˜ë©° ì°¸ê°€ì ê°„ì˜ í˜‘ì—…ê³¼ ì„±ì¥ì— ì´ˆì ì„ ë§ì·„ë‹¤.",
          "ë°©ì†¡ ì§í›„ SNSì™€ ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” â€œì— ë„·ì¸ë° ì•…í¸ì´ ì—†ë‹¤â€, â€œí¸ì§‘ì´ ë„ˆë¬´ ìˆœí•´ì„œ ë†€ëë‹¤â€ëŠ” ë°˜ì‘ì´ ì´ì–´ì¡Œë‹¤.",
          "íŠ¹íˆ íŠ¸ìœ„í„°(X)ì—ì„œëŠ” í”„ë¡œê·¸ë¨ ê´€ë ¨ í´ë¦½ê³¼ ì§¤ì´ ë¹ ë¥´ê²Œ í™•ì‚°ë˜ë©° í™”ì œë¥¼ ëª¨ì•˜ë‹¤.",
          "ì‹œì²­ìë“¤ì€ ì°¸ê°€ìë“¤ì´ ì„œë¡œë¥¼ íƒˆë½ ê²½ìŸìê°€ ì•„ë‹Œ ìŒì•…ì  ë™ë£Œë¡œ ëŒ€í•˜ëŠ” ëª¨ìŠµì— ì‹ ì„ í•¨ì„ ëŠê¼ˆë‹¤ëŠ” í‰ê°€ë‹¤.",
          "ì¼ë¶€ ì‹œì²­ìëŠ” â€œëˆ„ê°€ ë–¨ì–´ì§ˆì§€ê°€ ì•„ë‹ˆë¼, ì–´ë–¤ ìŒì•…ì´ ë‚˜ì˜¬ì§€ê°€ ê¶ê¸ˆí•´ì§€ëŠ” ì˜¤ë””ì…˜â€ì´ë¼ê³  ë°˜ì‘í–ˆë‹¤.",
          "ì œì‘ì§„ì€ â€œê°ˆë“±ì„ ê³¼ì¥í•˜ê¸°ë³´ë‹¤ ì°½ì‘ ê³¼ì • ìì²´ì˜ ê¸´ì¥ê³¼ ê³ ë¯¼ì„ ë‹´ê³ ì í–ˆë‹¤â€ë©° â€œì‹¤ì œ ìŒì•… ì‘ì—…ì˜ í˜„ì‹¤ì— ê°€ê¹ê²Œ ì ‘ê·¼í–ˆë‹¤â€ê³  ë°í˜”ë‹¤."
        ]
      },
      {
        id: 4,
        title: "í˜„ì—… í”„ë¡œë“€ì„œ ë©˜í† ë§ í™”ì œâ€¦ â€œì˜¤ë””ì…˜ ì•„ë‹Œ ì‹¤ì œ ì‘ì—…ì‹¤ ê°™ë‹¤â€",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ì²­ì†Œë…„Â·ì²­ë…„ í”„ë¡œë“€ì‹± ì˜¤ë””ì…˜ ã€ˆHIT THE DROPã€‰ì—ì„œ ê³µê°œëœ í˜„ì—… í”„ë¡œë“€ì„œë“¤ì˜ ë©˜í† ë§ ì¥ë©´ì´ í™”ì œë¥¼ ëª¨ìœ¼ê³  ìˆë‹¤.",
          "ë°©ì†¡ì—ì„œëŠ” ì°¸ê°€ìë“¤ì´ ì‹¤ì œ ì‘ì—…ì‹¤ê³¼ ìœ ì‚¬í•œ í™˜ê²½ì—ì„œ ê³¡ì„ ìˆ˜ì •í•˜ê³ , ì¦‰ê°ì ì¸ í”¼ë“œë°±ì„ ë°›ëŠ” ëª¨ìŠµì´ ìƒì„¸íˆ ë‹´ê¸°ë©° ê¸°ì¡´ ì˜¤ë””ì…˜ í”„ë¡œê·¸ë¨ê³¼ì˜ ì°¨ë³„ì„±ì„ ë“œëŸ¬ëƒˆë‹¤.",
          "ë©˜í† ë“¤ì€ ë‹¨ìˆœíˆ ê²°ê³¼ë¬¼ì„ í‰ê°€í•˜ëŠ” ë° ê·¸ì¹˜ì§€ ì•Šê³ , ê³¡ì˜ êµ¬ì¡°ì™€ ë©œë¡œë”” ì „ê°œ, ì‚¬ìš´ë“œ ë””ìì¸ê³¼ ë¯¹ì‹± ë°©í–¥ê¹Œì§€ ì„¸ë°€í•˜ê²Œ ì§šì–´ì£¼ë©° ì°¸ê°€ìë“¤ê³¼ í•¨ê»˜ ê³¡ì„ ì™„ì„±í•´ ë‚˜ê°”ë‹¤. íŠ¹íˆ â€œì™œ ì´ë ‡ê²Œ ë“¤ë¦¬ëŠ”ì§€â€, â€œì´ ì„ íƒì´ ì–´ë–¤ ì¸ìƒì„ ì£¼ëŠ”ì§€â€ì™€ ê°™ì€ ì§ˆë¬¸ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì‚¬ê³  ê³¼ì •ì„ ì„¤ëª…í•´ì£¼ëŠ” ë°©ì‹ì´ ì¸ìƒì ì´ë¼ëŠ” í‰ê°€ë‹¤.",
          "ì°¸ê°€ìë“¤ ì—­ì‹œ â€œíƒˆë½ì„ ê±±ì •í•˜ê¸°ë³´ë‹¤, ì§€ê¸ˆ ì´ ê³¡ì„ ì–´ë–»ê²Œ ë” ì¢‹ê²Œ ë§Œë“¤ ìˆ˜ ìˆì„ì§€ë¥¼ ê³ ë¯¼í•˜ê²Œ ëœë‹¤â€, â€œì˜¤ë””ì…˜ì´ë¼ê¸°ë³´ë‹¤ ì‹¤ì œ í˜„ì—… ìˆ˜ì—…ì„ ë“£ëŠ” ëŠë‚Œâ€ì´ë¼ë©° ê¸°ì¡´ ìŒì•… í”„ë¡œê·¸ë¨ê³¼ëŠ” ë‹¤ë¥¸ ê²½í—˜ì„ í•˜ê³  ìˆë‹¤ê³  ì „í–ˆë‹¤.",
          "ì‹œì²­ì ë°˜ì‘ë„ ê¸ì •ì ì´ë‹¤. ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” â€œìŒì•…ì´ ì™„ì„±ë˜ëŠ” ê³¼ì •ì„ ì´ë ‡ê²Œ ìì„¸íˆ ë³´ì—¬ì£¼ëŠ” ë°©ì†¡ì€ ì²˜ìŒâ€, â€œí”„ë¡œë“€ì„œê°€ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ì„œ í¥ë¯¸ë¡­ë‹¤â€ëŠ” ì˜ê²¬ì´ ì´ì–´ì§€ê³  ìˆë‹¤. ì¼ë¶€ ì‹œì²­ìëŠ” â€œìŒì•… ì „ê³µì´ ì•„ë‹ˆì–´ë„ ì´í•´í•  ìˆ˜ ìˆê²Œ ì„¤ëª…í•´ì¤€ë‹¤â€ê³  í‰ê°€í–ˆë‹¤.",
          "ì—…ê³„ ê´€ê³„ìë“¤ ë˜í•œ â€œì œì‘ì§„ì€ â€œë©˜í† ë§ ì¥ë©´ì€ ìµœëŒ€í•œ í¸ì§‘ì„ ì¤„ì´ê³  ì‹¤ì œ ì‘ì—… íë¦„ì„ ì‚´ë¦¬ê³ ì í–ˆë‹¤â€ë©° â€œì°¸ê°€ìì™€ ë©˜í†  ëª¨ë‘ì—ê²Œ ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì´ ë˜ë„ë¡ êµ¬ì„±í•˜ê³  ìˆë‹¤â€ê³  ë°í˜”ë‹¤."
        ]
      },
      {
        id: 5,
        title: "â€œêµìœ¡ í”„ë¡œê·¸ë¨ ê°™ì•„ì„œ ê³„ì† ë³´ê²Œ ëœë‹¤â€â€¦ ì‹œì²­ì ë°˜ì‘ í™•ì‚°",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ã€ˆHIT THE DROPã€‰ì„ í–¥í•œ ì‹œì²­ì ë°˜ì‘ ì¤‘ ê°€ì¥ ëˆˆì— ë„ëŠ” í‚¤ì›Œë“œëŠ” ë‹¨ì—° â€˜êµìœ¡ì â€™ì´ë‹¤.",
          "ìê·¹ì ì¸ ê²½ìŸ êµ¬ë„ë‚˜ ê°ˆë“± ì—°ì¶œ ëŒ€ì‹ , ì„¤ëª…ê³¼ ê³¼ì • ì¤‘ì‹¬ì˜ êµ¬ì„±ì´ ì˜¤íˆë ¤ ëª°ì…ë„ë¥¼ ë†’ì´ê³  ìˆë‹¤ëŠ” í‰ê°€ê°€ ì´ì–´ì§€ê³  ìˆë‹¤.",
          "ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì™€ SNSì—ì„œëŠ” â€œìŒì•… ì „ê³µ ìˆ˜ì—…ì„ ì˜ˆëŠ¥ìœ¼ë¡œ ë³´ëŠ” ëŠë‚Œâ€, â€œí¸ì•ˆí•´ì„œ ëŠì§€ ì•Šê³  ëê¹Œì§€ ë³´ê²Œ ëœë‹¤â€ëŠ” ë°˜ì‘ì´ ë‹¤ìˆ˜ ë“±ì¥í–ˆë‹¤. íŠ¹íˆ ì°¸ê°€ìë“¤ì´ ì‹œí–‰ì°©ì˜¤ë¥¼ ê²ªìœ¼ë©° ê³¡ì„ ìˆ˜ì •í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì´ ê·¸ëŒ€ë¡œ ë‹´ê¸´ ì ì´ í˜¸í‰ì„ ë°›ê³  ìˆë‹¤.",
          "ì¼ë¶€ ì‹œì²­ìëŠ” â€œê¸°ì¡´ ì˜¤ë””ì…˜ì€ ëˆ„ê°€ ë–¨ì–´ì§ˆì§€ ê¸´ì¥í•˜ë©° ë´¤ë‹¤ë©´, ì´ í”„ë¡œê·¸ë¨ì€ ì–´ë–¤ ê²°ê³¼ë¬¼ì´ ë‚˜ì˜¬ì§€ê°€ ë” ê¶ê¸ˆí•˜ë‹¤â€ê³  ë§í–ˆë‹¤.",
          "íŠ¸ìœ„í„°(X)ì˜ í•œ ì‹œì²­ìëŠ” â€œê²½ìŸë³´ë‹¤ ì„±ì¥ì— ì§‘ì¤‘í•˜ëŠ” ë¶„ìœ„ê¸°ê°€ ì˜¤íˆë ¤ ë” í˜„ì‹¤ì â€ì´ë¼ê³  í‰ê°€í–ˆë‹¤.",
          "ì œì‘ì§„ì€ â€œã€ˆHIT THE DROPã€‰ì€ ì²­ì†Œë…„Â·ì²­ë…„ ì°½ì‘ìë¿ ì•„ë‹ˆë¼, ìŒì•…ì— ê´€ì‹¬ ìˆëŠ” ì‹œì²­ì ëª¨ë‘ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œ í”„ë¡œê·¸ë¨â€ì´ë¼ë©° â€œìŒì•…ì„ ë§Œë“œëŠ” ì‚¬ëŒë“¤ì˜ ê³ ë¯¼ê³¼ ì„ íƒì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆë‹¤â€ê³  ì„¤ëª…í–ˆë‹¤.",
          "ì „ë¬¸ê°€ë“¤ì€ ì§€ì›í˜• ì˜¤ë””ì…˜ì´ë¼ëŠ” ìƒˆë¡œìš´ í¬ë§·ì´ í–¥í›„ ìŒì•… ì˜ˆëŠ¥ì˜ íë¦„ì— ë³€í™”ë¥¼ ì¤„ ê°€ëŠ¥ì„±ë„ ìˆë‹¤ê³  ë¶„ì„í•œë‹¤."
        ]
      },
      {
        id: 6,
        title: "í”„ë¡œë“€ì„œ ì¤‘ì‹¬ìœ¼ë¡œ ëŒì•„ê°„ ì œì‘ êµ¬ì¡°â€¦ â€˜HIT THE DROPâ€™ì´ ë³´ì—¬ì¤€ í˜‘ì—…ì˜ ë°©ì‹",
        date: "20XX.0X.XX",
        cover: null,
        paragraphs: [
          "ã€ˆHIT THE DROPã€‰ì€ í”„ë¡œë“€ì„œ ì¤‘ì‹¬ì˜ ì œì‘ êµ¬ì¡°ë¥¼ ì „ë©´ì— ë‚´ì„¸ìš°ë©°, ê¸°ì¡´ ì˜¤ë””ì…˜ í”„ë¡œê·¸ë¨ê³¼ëŠ” ë‹¤ë¥¸ ìŒì•… ì°½ì‘ ê³¼ì •ì„ ë³´ì—¬ì£¼ê³  ìˆë‹¤. í”„ë¡œê·¸ë¨ì€ í•œ ê³¡ì˜ ë°©í–¥ì„±ê³¼ ì •ì²´ì„±ì„ ì„¤ê³„í•˜ëŠ” í”„ë¡œë“€ì„œì˜ ì—­í• ì„ ì¤‘ì‹¬ì¶•ìœ¼ë¡œ ì‚¼ê³ , ê·¸ ê³¼ì •ì—ì„œ ìŒí–¥ ì—”ì§€ë‹ˆì–´ì™€ì˜ í˜‘ì—…ì´ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë‹´ì•„ë‚¸ë‹¤.",
          "ë°©ì†¡ì—ì„œëŠ” í”„ë¡œë“€ì„œê°€ ê³¡ì˜ ì½˜ì…‰íŠ¸ì™€ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³ , ë©œë¡œë””ì™€ í¸ê³¡ ë°©í–¥ì„ ì£¼ë„ì ìœ¼ë¡œ ì œì‹œí•˜ëŠ” ì¥ë©´ì´ ë°˜ë³µì ìœ¼ë¡œ ë“±ì¥í•œë‹¤.",
          "ì´í›„ ìŒí–¥ ì—”ì§€ë‹ˆì–´ê°€ ì‚¬ìš´ë“œì˜ ì§ˆê°ê³¼ ë°¸ëŸ°ìŠ¤ë¥¼ ë³´ì™„í•˜ë©° í”„ë¡œë“€ì„œì˜ ì˜ë„ë¥¼ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§„ë‹¤.",
          "ì´ ê°™ì€ íë¦„ì€ ìŒì•… ì œì‘ì—ì„œ í”„ë¡œë“€ì„œê°€ ë§¡ëŠ” í•µì‹¬ì ì¸ ì—­í• ì„ ëª…í™•íˆ ë“œëŸ¬ë‚¸ë‹¤ëŠ” í‰ê°€ë‹¤.",
          "ì—…ê³„ ê´€ê³„ìë“¤ì€ â€œã€ˆHIT THE DROPã€‰ì€ í”„ë¡œë“€ì„œë¥¼ ë‹¨ìˆœí•œ ì‘ê³¡ê°€ê°€ ì•„ë‹Œ, í”„ë¡œì íŠ¸ ì „ì²´ë¥¼ ì´ê´„í•˜ëŠ” ì°½ì‘ìë¡œ ë¬˜ì‚¬í•œë‹¤â€ë©° â€œìŒí–¥ ì—”ì§€ë‹ˆì–´ì™€ì˜ í˜‘ì—… êµ¬ì¡° ì—­ì‹œ í˜„ì‹¤ì ì¸ ë°©ì‹ì— ê°€ê¹ë‹¤â€ê³  ë¶„ì„í–ˆë‹¤.",
          "í•œ ê´€ê³„ìëŠ” â€œìŒí–¥ì´ ì£¼ë„ê¶Œì„ ê°–ê¸°ë³´ë‹¤ëŠ”, í”„ë¡œë“€ì„œì˜ ë°©í–¥ì„±ì„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠëƒì— ì´ˆì ì„ ë§ì¶˜ ì ì´ ì¸ìƒì â€ì´ë¼ê³  ì „í–ˆë‹¤.",
          "ì‹œì²­ì ë°˜ì‘ë„ ë¹„ìŠ·í•˜ë‹¤. ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” â€œí”„ë¡œë“€ì„œê°€ ì–´ë–¤ ê³ ë¯¼ì„ ê±°ì³ ê³¡ì˜ ë°©í–¥ì„ ì •í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤â€, â€œìŒí–¥ì€ ë³´ì¡°ì ì´ì§€ë§Œ ì¤‘ìš”í•œ ì—­í• ë¡œ ì˜ ê·¸ë ¤ì§„ë‹¤â€ëŠ” í‰ê°€ê°€ ì´ì–´ì§€ê³  ìˆë‹¤.",
          "ìŒì•… ì œì‘ ê²½í—˜ì´ ì—†ëŠ” ì‹œì²­ìë“¤ë„ í”„ë¡œë“€ì„œì˜ ì‚¬ê³  ê³¼ì •ì„ ë”°ë¼ê°€ë©° í”„ë¡œê·¸ë¨ì— ëª°ì…í•˜ê³  ìˆë‹¤ëŠ” ë°˜ì‘ì´ë‹¤.",
          "ì œì‘ì§„ì€ â€œã€ˆHIT THE DROPã€‰ì˜ ì¤‘ì‹¬ì€ í”„ë¡œë“€ì„œâ€ë¼ë©° â€œìŒí–¥ ì—”ì§€ë‹ˆì–´ì™€ì˜ í˜‘ì—…ì€ ê·¸ ë°©í–¥ì„ ë” ì˜ ì™„ì„±í•˜ê¸° ìœ„í•œ ê³¼ì •ìœ¼ë¡œ ë‹´ì•„ë‚´ê³  ìˆë‹¤â€ê³  ë°í˜”ë‹¤.",
          "ì´ì–´ â€œìŒì•… ì œì‘ì˜ ì£¼ë„ê¶Œê³¼ í˜‘ì—… êµ¬ì¡°ë¥¼ ë™ì‹œì— ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ í•µì‹¬â€ì´ë¼ê³  ë§ë¶™ì˜€ë‹¤."
        ]
      }
    ];

    // ===== localStorage keys =====
    const app = document.getElementById('app');
    const keyLikes = (id) => `damnews_likes_${id}`;
    const keyComments = (id) => `damnews_comments_${id}`;
    const keyViews = (id) => `damnews_views_${id}`;
    const keyReporter = (id) => `damnews_reporter_${id}`;

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll("\"","&quot;")
        .replaceAll("'","&#039;");
    }

    function getNum(k, fallback=0){
      const n = parseInt(localStorage.getItem(k) || "", 10);
      return Number.isFinite(n) ? n : fallback;
    }
    function setNum(k, n){ localStorage.setItem(k, String(n)); }

    function getLikes(id){ return getNum(keyLikes(id), 0); }
    function setLikes(id, n){ setNum(keyLikes(id), n); }

    function getViews(id){
      let v = getNum(keyViews(id), -1);
      if (v < 0){
        // ì²˜ìŒ 1ë²ˆë§Œ ëœë¤ ìƒì„± í›„ ê³ ì • ì €ì¥
        // (ë‰´ìŠ¤ ëŠë‚Œ: 800~38,000)
        v = Math.floor(800 + Math.random() * 37200);
        setNum(keyViews(id), v);
      }
      return v;
    }
    function bumpViews(id){
      // ìƒì„¸ ì—´ ë•Œë§ˆë‹¤ 1 ì¦ê°€(ë„ˆë¬´ í‹° ì•ˆ ë‚˜ê²Œ)
      const v = getViews(id) + 1;
      setNum(keyViews(id), v);
      return v;
    }

    function getReporter(id){
      const saved = localStorage.getItem(keyReporter(id));
      if (saved) return saved;
      const pick = REPORTERS[Math.floor(Math.random() * REPORTERS.length)];
      localStorage.setItem(keyReporter(id), pick);
      return pick;
    }

    function getComments(id){
      try{
        const raw = localStorage.getItem(keyComments(id));
        const arr = raw ? JSON.parse(raw) : [];
        return Array.isArray(arr) ? arr : [];
      }catch(e){ return []; }
    }
    function setComments(id, arr){
      localStorage.setItem(keyComments(id), JSON.stringify(arr));
    }

    function nowString(){
      const d = new Date();
      const yyyy = d.getFullYear();
      const mm = String(d.getMonth()+1).padStart(2,"0");
      const dd = String(d.getDate()).padStart(2,"0");
      const hh = String(d.getHours()).padStart(2,"0");
      const mi = String(d.getMinutes()).padStart(2,"0");
      return `${yyyy}.${mm}.${dd} ${hh}:${mi}`;
    }

    // cover ê¸°ë³¸ê°’ ì„¸íŒ…
    for (let i=0;i<articles.length;i++){
      if (!articles[i].cover) articles[i].cover = makeCoverDataUrl(articles[i].title);
    }

    function likeArticle(articleId){
      const n = getLikes(articleId) + 1;
      setLikes(articleId, n);
      const el = document.getElementById("likeCount");
      if (el) el.textContent = String(n);

      // ëª©ë¡ì— ë°˜ì˜ì€ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ë©´ ìë™
    }

    function submitComment(articleId){
      const nameEl = document.getElementById("cname");
      const textEl = document.getElementById("ctext");
      const name = (nameEl.value || "").trim();
      const text = (textEl.value || "").trim();

      if (!text){
        alert("ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì¤˜!");
        textEl.focus();
        return;
      }

      const arr = getComments(articleId);
      arr.unshift({ name: name || "ìµëª…", text, time: nowString() });
      setComments(articleId, arr);

      textEl.value = "";
      document.getElementById("commentList").innerHTML = renderComments(articleId);

      // ëŒ“ê¸€ ìˆ˜ í‘œì‹œ ì—…ë°ì´íŠ¸
      const cc = document.getElementById("commentCount");
      if (cc) cc.textContent = String(arr.length);
    }

    function deleteComment(articleId, idx){
      const arr = getComments(articleId);
      if (!arr[idx]) return;
      if (!confirm("ì´ ëŒ“ê¸€ì„ ì‚­ì œí• ê¹Œ?")) return;
      arr.splice(idx, 1);
      setComments(articleId, arr);
      document.getElementById("commentList").innerHTML = renderComments(articleId);

      const cc = document.getElementById("commentCount");
      if (cc) cc.textContent = String(arr.length);
    }

    function renderComments(articleId){
      const list = getComments(articleId);
      if (list.length === 0){
        return `<div style="font-size:13px;color:#777;">ì•„ì§ ëŒ“ê¸€ì´ ì—†ì–´ìš”. ì²« ëŒ“ê¸€ì„ ë‚¨ê²¨ë³´ì„¸ìš”.</div>`;
      }
      return list.map((c, idx) => `
        <div class="comment-item">
          <div class="comment-head">
            <div>
              <span class="comment-name">${escapeHtml(c.name || "ìµëª…")}</span>
              <span class="comment-time">${escapeHtml(c.time || "")}</span>
            </div>
            <span class="comment-del" onclick="deleteComment(${articleId}, ${idx})">ì‚­ì œ</span>
          </div>
          <div class="comment-text">${escapeHtml(c.text || "")}</div>
        </div>
      `).join("");
    }

    async function shareArticle(articleId){
      const a = articles.find(x => x.id === articleId);
      if (!a) return;

      const url = location.href.split("#")[0] + "#article-" + articleId;
      const data = { title: a.title, text: `${PUBLISHER} Â· ${a.title}`, url };

      if (navigator.share){
        try{
          await navigator.share(data);
          return;
        }catch(e){
          // ì‚¬ìš©ìê°€ ì·¨ì†Œí•˜ë©´ ì¡°ìš©íˆ
        }
      }
      // fallback: copy to clipboard
      try{
        await navigator.clipboard.writeText(url);
        alert("ë§í¬ë¥¼ ë³µì‚¬í–ˆì–´!");
      }catch(e){
        prompt("ë³µì‚¬í•´ì„œ ì‚¬ìš©í•´ì¤˜:", url);
      }
    }

    function formatNumber(n){
      return String(n).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function showList(){
      window.scrollTo(0,0);

      // í—¤ë“œë¼ì¸ì€ 1ë²ˆ ê¸°ì‚¬ë¡œ ê³ ì •(ì›í•˜ë©´ id ë°”ê¾¸ë©´ ë¨)
      const headline = articles[0];

      // ë­í‚¹(ì¡°íšŒìˆ˜ ê¸°ì¤€ TOP 5)
      const ranked = [...articles]
        .map(a => ({...a, views: getViews(a.id)}))
        .sort((a,b) => b.views - a.views)
        .slice(0,5);

      // ëª©ë¡(í—¤ë“œë¼ì¸ ì œì™¸)
      const rest = articles.slice(1);

      let html = `
        <div class="grid">
          <div class="panel">
            <div class="panel-head">
              <div class="label">í—¤ë“œë¼ì¸</div>
              <div class="more">ë‹´ë‰´ìŠ¤</div>
            </div>
            <div class="headline" onclick="showArticle(${headline.id})">
              <div class="hero"><img alt="" src="${headline.cover}"></div>
              <div class="body">
                <div class="title">${headline.title}</div>
                <div class="meta">
                  <span class="chip">ì—°ì˜ˆ</span>
                  <span>${headline.date}</span>
                  <span class="chip">ì¡°íšŒ ${formatNumber(getViews(headline.id))}</span>
                  <span class="chip">ì¶”ì²œ ${getLikes(headline.id)}</span>
                  <span class="chip">ëŒ“ê¸€ ${getComments(headline.id).length}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="panel rank">
            <div class="panel-head">
              <div class="label">ë§ì´ ë³¸ ë‰´ìŠ¤</div>
              <div class="more">ì—°ì˜ˆ</div>
            </div>
            ${ranked.map((a, i) => `
              <div class="item" onclick="showArticle(${a.id})">
                <div style="display:flex; gap:10px; align-items:flex-start;">
                  <div class="no">${i+1}</div>
                  <div class="t">${a.title}</div>
                </div>
                <div class="meta" style="margin-top:8px;">
                  <span>${a.date}</span>
                  <span class="chip">ì¡°íšŒ ${formatNumber(a.views)}</span>
                </div>
              </div>
            `).join("")}
          </div>

          <div class="panel list" style="grid-column:1 / -1;">
            <div class="panel-head">
              <div class="label">ì—°ì˜ˆ ë‰´ìŠ¤</div>
              <div class="more">ì „ì²´ë³´ê¸°</div>
            </div>

            ${rest.map(a => {
              const like = getLikes(a.id);
              const cc = getComments(a.id).length;
              const views = getViews(a.id);
              return `
                <div class="row" onclick="showArticle(${a.id})">
                  <div class="thumb"><img alt="" src="${a.cover}"></div>
                  <div>
                    <div class="row-title">${a.title}</div>
                    <div class="row-meta">
                      <span>${a.date}</span>
                      <span class="chip">ë‹´ë‰´ìŠ¤</span>
                      <span class="chip">ì¡°íšŒ ${formatNumber(views)}</span>
                      <span class="chip">ì¶”ì²œ ${like}</span>
                      <span class="chip">ëŒ“ê¸€ ${cc}</span>
                    </div>
                  </div>
                </div>
              `;
            }).join("")}
          </div>
        </div>
      `;

      app.innerHTML = html;
      location.hash = ""; // ëª©ë¡ ìƒíƒœ
    }

    function showArticle(id){
      const a = articles.find(x => x.id === id);
      if (!a) return;

      window.scrollTo(0,0);

      // ì¡°íšŒìˆ˜ ì¦ê°€(ìƒì„¸ ë³¼ ë•Œ 1ì”©)
      const views = bumpViews(id);

      const reporter = getReporter(id);
      const likeCount = getLikes(id);
      const comments = getComments(id);

      // ë³¸ë¬¸ í…ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ ì¶œë ¥(ë³€ê²½/ìš”ì•½ ì—†ìŒ)
      let paragraphsHtml = "";
      for (let j=0;j<a.paragraphs.length;j++){
        paragraphsHtml += "<p>" + a.paragraphs[j] + "</p>";
      }

      // ê´€ë ¨ ê¸°ì‚¬(ìê¸° ì œì™¸ 3ê°œ)
      const related = articles.filter(x => x.id !== id).slice(0,3);

      app.innerHTML = `
        <div class="back" onclick="showList()">â† ì—°ì˜ˆë¡œ ëŒì•„ê°€ê¸°</div>

        <div class="article-wrap">
          <div class="article-hero"><img alt="" src="${a.cover}"></div>

          <div class="article">
            <h2>${a.title}</h2>

            <div class="byline">
              <span class="chip">${PUBLISHER}</span>
              <span>${escapeHtml(reporter)} ê¸°ì</span>
              <span>Â·</span>
              <span>${a.date}</span>
              <span class="chip">ì¡°íšŒ <span id="viewCount">${formatNumber(views)}</span></span>
              <span class="chip">ì¶”ì²œ <span id="likeCount">${likeCount}</span></span>
              <span class="chip">ëŒ“ê¸€ <span id="commentCount">${comments.length}</span></span>
            </div>

            <div class="actions">
              <button class="btn primary" onclick="likeArticle(${id})">ğŸ‘ ì´ ê¸°ì‚¬ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤</button>
              <button class="btn" onclick="shareArticle(${id})">ğŸ”— ê³µìœ </button>
              <button class="btn" onclick="document.getElementById('comments').scrollIntoView({behavior:'smooth'})">ğŸ’¬ ëŒ“ê¸€</button>
            </div>

            ${paragraphsHtml}

            <div class="section related">
              <h3>ì´ ê¸°ì‚¬ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤</h3>
              ${related.map(r => `
                <div class="item" onclick="showArticle(${r.id})">
                  <div class="t">${r.title}</div>
                  <div class="m">
                    <span class="chip">ì—°ì˜ˆ</span>
                    <span>${r.date}</span>
                    <span class="chip">ì¡°íšŒ ${formatNumber(getViews(r.id))}</span>
                  </div>
                </div>
              `).join("")}
            </div>

            <div class="section" id="comments">
              <h3>ëŒ“ê¸€</h3>
              <div class="comment-box">
                <div class="comment-form">
                  <input id="cname" type="text" placeholder="ë‹‰ë„¤ì„(ì„ íƒ)">
                  <textarea id="ctext" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                  <div class="comment-actions">
                    <button class="btn" onclick="submitComment(${id})">ë“±ë¡</button>
                  </div>
                </div>
                <div id="commentList">${renderComments(id)}</div>
                <div class="footnote">â€» ëŒ“ê¸€/ì¶”ì²œ/ì¡°íšŒìˆ˜ëŠ” ì„œë²„ê°€ ì•„ë‹ˆë¼ ì´ ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤(ë¡œì»¬ ì €ì¥).</div>
              </div>
            </div>

          </div>
        </div>
      `;

      location.hash = "article-" + id;
    }

    // í•´ì‹œë¡œ ë°”ë¡œ ê¸°ì‚¬ ì—´ê¸° ì§€ì› (#article-3)
    function boot(){
      const h = location.hash || "";
      const m = h.match(/^#article-(\d+)$/);
      if (m){
        const id = parseInt(m[1], 10);
        if (Number.isFinite(id)) { showArticle(id); return; }
      }
      showList();
    }

    boot();
    window.addEventListener("hashchange", boot);
  </script>
</body>
</html>

/* ê¸€ì ë Œë”ë§/ìê°„ í†µì¼ */
body{
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
  letter-spacing: -0.2px;
}
.article h2{ letter-spacing: -0.4px; }
.article p{ letter-spacing: -0.15px; }

/* ëª©ë¡ ìš”ì•½ 1ì¤„ */
.row-summary{
  font-size: 13px;
  color: #777;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-top: 2px;
}

listHtml +=
  '<div class="news-title" onclick="showArticle(' + articles[i].id + ')">' +
    '<div>' + articles[i].title + '</div>' +
    '<div class="row-summary">' + makeSummary(articles[i].paragraphs) + '</div>' +
  '</div>';

